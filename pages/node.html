<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Node.js</title>

  <link rel="stylesheet" href="../css/index.min.css">
</head>

<body>
  <header id="goit" class="header container">
    <nav class="nav">
      <ul class="nav__list">
        <li><a href="../index.html">Main</a></li>
        <li><a href="../pages/html-css.html">HTML-CSS</a></li>
        <li><a href="../pages/js.html">JS</a></li>
        <li><a href="../pages/ts.html">TS</a></li>
        <li><a href="../pages/react.html">React</a></li>
        <li><a href="../pages/react-native.html">React Native</a></li>
        <li><a href="../pages/next.html">Next.js</a></li>
        <li><a href="../pages/node.html">Node.js</a></li>
        <!-- <li><a href=""></a></li> -->
        <li><a href="../pages/terminal.html">terminal</a></li>
        <li><a href="" target="_blank" rel="noopener noreferrer nofollow">GoIT</a></li>
        <li><a href="https://github.com/Belka-S?tab=repositories" target="_blank"
            rel="noopener noreferrer nofollow">GitHub</a></li>
        <li><a href="https://chat.openai.com/chat" target="_blank" rel="noopener noreferrer nofollow">OpenAI</a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <section>
      <div class="goit">
        <h2><a href="https://www.edu.goit.global/learn/6420780/2439558/2439561/textbook" target="_blank"
            rel="noopener noreferrer nofollow">GoIT Node.js</a></h2>
        <ul class="goit__contents">
          <li><a href="#basics">The Basics <span>(Lesson 1)</span>
              <div>
                <a href="https://www.youtube.com/watch?v=_AsCNHqJVlQ" target="_blank">L01 <span>node-basics</span></a>
                <a href="" target="_blank">M01 <span></span></a>
              </div>
            </a></li>
          <li><a href="#apps">Creating Console Applications <span>(Lesson 2)</span></a>
            <div>
              <a href="https://youtu.be/y5g5K4wAda4" target="_blank">L02 <span>console-app</span></a>
              <a href="" target="_blank">M02 <span></span></a>
            </div>
          </li>
          <li><a href="#express">The Framework Express <span>(Lesson 3)</span></a>
            <div>
              <a href="https://www.youtube.com/watch?v=q8B3wdyUbcU" target="_blank">L03 <span>express</span></a>
              <a href="" target="_blank">M03 <span></span></a>
            </div>
          </li>
          <li><a href="#restapi">REST API <span>(Lesson 4)</span></a>
            <div>
              <a href="" target="_blank">L04 <span></span></a>
              <a href="" target="_blank">M04 <span></span></a>
            </div>
          </li>
          <li><a href="#mondo">The MongoDB Database <span>(Lesson 5)</span></a>
            <div>
              <a href="" target="_blank">L05 <span></span></a>
              <a href="" target="_blank">M05 <span></span></a>
            </div>
          </li>
          <li><a href="#mongoose">ODM Mongoose <span>(Lesson 6)</span></a>
            <div>
              <a href="" target="_blank">L06 <span></span></a>
              <a href="" target="_blank">M06 <span></span></a>
            </div>
          </li>
          <li><a href="#auth">Authentication and authorization <span>(Lesson 7-8)</span></a>
            <div>
              <a href="" target="_blank">L7-8 <span></span></a>
              <a href="" target="_blank">M7-8 <span></span></a>
            </div>
          </li>
          <li><a href="#files">Work with files <span>(Lesson 9)</span></a>
            <div>
              <a href="" target="_blank">L09 <span></span></a>
              <a href="" target="_blank">M09 <span></span></a>
            </div>
          </li>
          <li><a href="#testing">Testing of Applications <span>(Lesson 10)</span></a>
            <div>
              <a href="" target="_blank">L10 <span></span></a>
              <a href="" target="_blank">M10 <span></span></a>
            </div>
          </li>
          <li><a href="#email-docker">Work with email and Docker <span>(Lesson 11)</span></a>
            <div>
              <a href="" target="_blank">L11 <span></span></a>
              <a href="" target="_blank">M11 <span></span></a>
            </div>
          </li>
          <li><a href="#websockets">Websockets <span>(Lesson 12)</span></a>
            <div>
              <a href="" target="_blank">L12 <span></span></a>
              <a href="" target="_blank">M12 <span></span></a>
            </div>
          </li>
        </ul>
      </div>
    </section>
    <section class="basics">
      <a href="#goit">
        <h2 id="basics">The Basics <span>(Lesson 1)</span></h2>
      </a>
      <h3>Global variables</h3>
      <ul>
        <li><b>Global</b> object is analogous to the window object from the browser;</li>
        <li>global<b>.foo</b> = 3; - to make a variable global in Node.js, you must declare it as a property of the
          <b>global</b> object;
        </li>
        <li><b>__filename</b> – a file name of an executable script;</li>
        <li><b>__dirname</b> – an absolute path to the executable script;</li>
        <li><b>Buffer</b> class is used when the object is used for operations with binary data;</li>
        <li><b>Process</b> class is used when process object, most of the data is located here;</li>
        <li>process<b>.argv</b> property contains an array of command line arguments;</li>
        <li>process<b>.cwd( )</b> returns the current working directory;</li>
        <li>process<b>.chdir( )</b> changes to another directory;</li>
        <li>process<b>.exit( )</b> exits the process with the code specified as an argument: 0, which is a success code;
          any number is an error code;</li>
        <li>process<b>.nextTick(</b>fn<b>)</b> is an important method that will schedule the execution of the specified
          function in such a way that the specified function will be executed after the end of the current phase (the
          currently executing code), but before the start of the next phase of the event loop.</li>
      </ul>
      <h3>Modules</h3>
      <p>To connect third-party modules to your project in Node.js, there is a convenient <b>NPM module management
          system</b>. In essence, this is a public repository of additional software modules created using Node.js.</p>
      <ul>
        <li><b>npm install</b> module_name [switches] - to install module;</li>
        <li><b>-S</b> or <b>--save</b> - the module is installed as a main dependency (module is necessary for the
          normal functioning of the program);</li>
        <li><b>-D</b> or <b>--save-dev</b> - means that the module will be installed as an additional dependency</li>
      </ul>
      <p>Modules fall into three categories:</p>
      <ul>
        <li><b>Core</b> modules, such as <i>fs</i> and <i>os</i>, are provided by the Node.</li>
        <li><b>File</b> modules are when you create a file with an exported function that assigns something (function,
          object, etc.) to the module.exports property, and then that file is used in other files in your program.</li>
        <li><b>npm</b> modules are regular file modules that reside in a special folder called node_modules. When you
          use the require function, Node determines the type of the module from the passed string.</li>
      </ul>
      <h3>CommonJS modules</h3>
      <p>Structurally, a CommonJS module is a ready-to-use piece of JavaScript code that exports special objects
        available for use in any code that needs it as a dependency. The two main kinds of CommonJS modules are the
        <b>exports object</b>, which contains what a given module wants to make available to other parts of the system,
        and the <b>require function</b>, which is used by some modules to import the exports object from others.
      </p>
      <ul>
        <li>module<b>.exports</b> – an object responsible for what exactly the module will export;</li>
        <li><b>require</b> method used to include modules is not global and will be local to each module.</li>

      </ul>
      <h3>ECMAScript modules</h3>
      <p>Starting with version 6.x, Node.js also supports connecting modules according to the ECMAScript standard. But
        fully importing modules has only worked since version 14.x. The first way is to give the files a <b>.mjs</b>
        extension so that we can use ECMAScript modules. The second wayis to set<b> "type": "module"</b>, in the
        <b>package.json</b> file.
      </p>
      <h3>Working with Files</h3>
      <p>The FileSystem module is responsible for working with files in Node.js. Module initialization is as follows:
      </p>
      <ul>
        <li>const <b>fs</b> = require(<b>'fs'</b>)<b>.promises</b>;</li>
        <li>const <b>fs</b> = require(<b>'fs/promises'</b>);</li>
      </ul>
      <p>The most used functions for basic file operations are as follows:</p>
      <ul>
        <li>fs<b>.readFile(</b>filename, [options]<b>)</b> - read file;</li>
        <li>fs<b>.writeFile(</b>filename, data, [options]<b>)</b> - write file;</li>
        <li>fs<b>.appendFile(</b>filename, data, [options]<b>)</b>- append to file;</li>
        <li>fs<b>.rename(</b>oldPath, newPath<b>)</b> - rename file;</li>
        <li>fs<b>.unlink(</b>path, callback<b>)</b> - delete file.</li>
      </ul>
      <p>When dealing with files, we never forget to handle errors. The data parameter in the readFile function contains
        the already mentioned object of the <b>Buffer</b> type, containing the sequence of bytes read, i.e. raw data.
        The easiest way to work with data as a string is to convert data using the <b>toString( )</b> method:</p>
      <span>
        fs<b>.readFile(</b>'readme.txt'<b>)</b><b>.then(</b>data => console.log(data<b>.toString(
          )</b>)<b>)</b><b>.catch(</b>error => console.log(error.message)<b>)</b>;
      </span>
    </section>

    <section class="apps">
      <a href="#goit">
        <h2 id="apps">Creating Console Applications <span>(Lesson 2)</span></h2>
      </a>
      <h3>CLI applications</h3>
      <p>The traditional way to manage a console application (CLI applications) is to pass parameters from the console
        line when it is launched. The parameters passed when starting the script are available in the process.args
        array. To process all kinds of combinations of parameters and their formats <a
          href="https://github.com/tj/commander.js#common-option-types-boolean-and-value"><b>program</b></a> or
        <b>yargs</b> modules are usually used:
      </p>
      <ul>
        <li>
          const { <b>program</b> } = require(<b>'commander'</b>); <br>
          program<b>.option(</b>'--action &#60type>'<b>).option(</b>'--id &#60type>'<b>).option(</b>'--name
          &#60type>'<b>)</b> <br>
          program<b>.parse(</b>process.argv<b>)</b>; <br>
          const optionsObgect = program<b>.opts( )</b>; <br>
          <p>
            Options are defined with the <b>.option( )</b> method, also serving as documentation for the options. Each
            option can have a short flag (single character) and a long name, separated by a comma or space or vertical
            bar ('|'). The first argument to <b>.parse(</b>[//array of strings], { <b>from: 'user'</b> }<b>)</b> is the
            array to parse, f the arguments follow different conventions than node you can pass a <b>from</b> option in
            the second parameter. The parsed options can be accessed by calling <b>.opts( )</b> on a Command object, and
            are passed to the action handler. The two most used option types are a boolean option, and an option which
            takes its value from the following argument (declared with angle brackets like <b>--expect
              &#60</b>value<b>></b>). To specify an option which may be used as a boolean option but may optionally take
            an option-argument (declared with square brackets like <b>--optional [</b>value<b>]</b>). You may specify a
            required option using <b>.requiredOption( ).</b> </p>
        </li>
        <li>
          const <b>yargs</b> = require(<b>'yargs'</b>); <br>
          const { <b>hideBin</b> } = require(<b>'yargs/helpers'</b>); <br>
          const arr = <b>hideBin(</b>process.argv<b>)</b>; <br>
          const { <b>argv</b>: optionsObgect } = <b>yargs(</b>arr<b>)</b>;
        </li>
      </ul>
      <p>To use interactive question-and-answer console input, the standard Node.js <b>readline</b> module is used:</p>
      <ul>
        <li>
          const <b>readline</b> = require(<b>'readline'</b>); <br>
          const <b>rl</b> = readline<b>.createInterface(</b>{
          <b>input:</b> process.stdin, <b>output:</b> process.stdout, }<b>)</b>;
        </li>
        <li>rl<b>.on('line', cmd</b> => { console.log(`You just typed: ${<b>cmd</b>}`<b>)</b>;
          }) - each input line is processed through the line event;</li>
        <li>rl<b>.question(</b>'Who are you?', <b>answer</b> => { console.log(`Nice to meet you ${<b>answer</b>}`);
          }<b>)</b> - to ask the user a question and get an answer;</li>
        <li>rl<b>.pause( )</b> - to block the input;</li>
        <li>rl<b>.close( )</b> - to close the readline interface.</li>
      </ul>
      




    </section>

    <section class="express">
      <a href="#goit">
        <h2 id="express">The Framework Express <span>(Lesson 3)</span></h2>
      </a>
      <h3>Introduction to Express</h3>
      <p><a href="https://expressjs.com/" target="_blank"><b>Express</b></a> is a minimalistic and flexible web
        framework for Node.js applications that provides a rich set of features for mobile and web applications. It has
        many HTTP utility methods and middleware at its disposal to create a robust API or website.</p>

      <span>const <b>express</b> = require(<b>'express'</b>); <br>
        const <b>app</b> = <b>express( )</b>; <br>
        app<b>.listen(</b>3001, ( ) => console.log('Server is running!')<b>)</b>;</span>
      <p>To process requests(routes) Express has a number of built-in functions. The route definition, according to the
        documentation, has the following structure: app.<b>METHOD</b>(<b>PATH</b>, <b>HANDLER</b>). </p>
      <ul>
        <li><b>app</b> - an express application instance;</li>
        <li><b>METHOD</b> — an HTTP request method (GET, POST, PUT, PATCH, DELETE);</li>
        <li><b>PATH</b> — a path to the server, in our case it is the site root '/';</li>
        <li><b>HANDLER</b> - a function to be executed when the route is matched.</li>
      </ul>
      <p>The <i>HANDLER</i> function takes two parameters, a <b>req</b> (request) and a <b>res</b> (response) object.
        Route definitions can contain regular expressions or special wildcards such as <b>?</b> (the previous character
        may occur 1 time or be absent), <b>+</b> (the previous character can occur 1 or more times), <b>*</b> (any
        number of characters can appear in place of this character) and <b>( )</b>.

      </p>
      <span>app<b>.get(</b>'/', (<b>req</b>, <b>res</b>) => { <br>
        console.log(req<b>.url</b>, req<b>.method</b>); <br>
        res<b>.send(</b>'&#60h2>Home Page&#60/h2>'<b>)</b>;
        }<b>)</b>;</span>
      <h3>Middleware</h3>
      <p><b>Middleware</b> are functions that have access to the <b>request</b> object, the <b>response</b> object, and
        the <b>next</b> middleware function in the application's request-response cycle. The middleware functions
        execute some code, make changes to the objects of <b>req</b> and <b>resp</b>, may complete the
        request-response cycle and abort the processing of the request, call the next intermediate processing function
        from the stack by executing the <b>next( )</b> function.</p>
      <ul>
        <li>app<b>.use(</b>(<b>req</b>, <b>res</b>, <b>next</b>) => { const <b>{</b> method, url <b>}</b> = <b>req</b>;
          <br>
          const date = moment( ).format('DD-MM-YYYY_hh:mm:ss'); <br>
          fs.appendFile('./data/server.log', `${method} ${url} ${date}\n`); <br>
          <b>next( )</b>;
          }<b>)</b>;
        </li>
        <li>app<b>.use(</b>(<b>res</b>, <b>req</b>) => {
          res<b>.status(</b>404)<b>.json(</b>{ error: 'Not found' }<b>)</b>;
          }<b>)</b>;</li>
        <li>const cors = require('cors'); <br>
          app<b>.use(</b>cors()<b>)</b>; - to allows CORS requests;
        </li>
        <li>const contactsRouter = require('./routes/api/contacts'); <br>
          app<b>.use(</b>'/api/contacts', contactsRouter<b>)</b>;
        </li>
        <li>app<b>.use(</b>express.json()<b>)</b>; - to transform JSON body.</li>
      </ul>
      <h3>Passing data to a server</h3>
      <ul>
        <li>
          <p><b>Passing a parameter to the URL</b> <br>
            app.get('/contact/:<b>id</b>', (<b>req</b>, res) => {
            const { <b>id</b> } = <b>req.params</b>; });
          </p>
        </li>
        <li>
          <p><b>Using GET request parameters</b> <br>
            http://localhost:3000/contacts?skip=0&limit=10, the result of such a request is in the <b>req.query</b>
            object;
          </p>
        </li>
        <li>
          <p><b>Submit via forms</b> <br>
            app<b>.use(</b>express<b>.urlencoded(</b>{ extended: false }<b>))</b> - to create a form data parser; <br>
            app.post('/login', (<b>req</b>, res, next) => {
            const { email, password } = <b>req.body</b>;
            });
          </p>
        </li>
        <li>
          <p><b>JSON Pass</b> <br>
            app<b>.use(</b>express<b>.json())</b> - to connect the JSON parser in the application;<br>
            app.post('/login', (<b>req</b>, res, next) => {
            const { email, password } = <b>req.body</b>;
            });
          </p>
        </li>
      </ul>
      <h3>Application Routing</h3>
      <p>With the <b>express.Router</b> class, you can create modular, mountable route handlers. The Router instance is
        a complex system of middleware and routing. Express supports a large number of <b>routing methods</b>
        corresponding to HTTP methods (<b>get</b>, <b>post</b>, <b>put</b>, <b>delete</b>, <b>patch</b>).</p>
      <span>
        const <b>express</b> = require(<b>'express'</b>); <br>
        const <b>router</b> = express<b>.Router( )</b>; <br>
        const contacts = require('../../data/contacts.json'); <br>
        <b>router</b>.get('/', (req, res) => {
        res.json(contacts); });
      </span>
      <p>The methods on the <b>response</b> object (res) can send a response to the client and complete the
        request-response cycle:</p>
      <ul>
        <li>res<b>.download( )</b> - file upload prompt;</li>
        <li>res<b>.end( )</b> - completing the response process;</li>
        <li>res<b>.json( )</b> - sending a JSON response;</li>
        <li>res<b>.jsonp( )</b> - sending a JSON response with JSONP support;</li>
        <li>res<b>.redirect( )</b> - response redirect;</li>
        <li>res<b>.render( )</b> - view template output;</li>
        <li>res<b>.send( )</b> - ending different types of response;</li>
        <li>res<b>.sendFile( )</b> - sending a file as an octet stream.</li>
      </ul>
      <p>The app<b>.route( )</b> method allows you to create chained route handlers for a particular route path.</p>
    </section>
    <section class="restapi">
      <a href="#goit">
        <h2 id="restapi">REST API <span>(Lesson 4)</span></h2>
      </a>









    </section>

    <section class="mondo">
      <a href="#goit">
        <h2 id="mondo">The MongoDB Database <span>(Lesson 5)</span></h2>
      </a>
    </section>

    <section class="mongoose">
      <a href="#goit">
        <h2 id="mongoose">ODM Mongoose <span>(Lesson 6)</span></h2>
      </a>
    </section>

    <section class="auth">
      <a href="#goit">
        <h2 id="auth">Authentication and authorization <span>(Lesson 7-8)</span></h2>
      </a>
    </section>

    <section class="files">
      <a href="#goit">
        <h2 id="files">Work with files <span>(Lesson 9)</span></h2>
      </a>
    </section>

    <section class="testing">
      <a href="#goit">
        <h2 id="testing">Testing of Applications <span>(Lesson 10)</span></h2>
      </a>
    </section>

    <section class="email-docker">
      <a href="#goit">
        <h2 id="email-docker">Work with email and Docker <span>(Lesson 11)</span></h2>
      </a>
    </section>

    <section class="websockets">
      <a href="#goit">
        <h2 id="websockets">Websockets <span>(Lesson 12)</span></h2>
      </a>
    </section>
  </main>

  <footer></footer>
</body>

</html>